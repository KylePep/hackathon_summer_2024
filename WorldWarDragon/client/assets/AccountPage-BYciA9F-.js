import{_ as e,r as l,o as t,w as a,d as s,l as c,A as r,e as i,P as n,a as o,c as d,f as u,n as v,g as p,v as b,t as h,F as m,p as g,h as f}from"./index-CUNzSXYX.js";import"./phaser-Di_ahE-K.js";const y=""+new URL("player/player1.jpeg",import.meta.url).href,k=""+new URL("player/player2.jpeg",import.meta.url).href,w=""+new URL("player/player3.jpeg",import.meta.url).href,U=""+new URL("player/player4.jpeg",import.meta.url).href,x={setup(){const e=l({}),o=l(!1),d=l(!1),u=l({}),v=l({}),p=l(0);t((()=>{b(),u.value=[0,0],v.value=0})),a((()=>{r.account,e.value={...r.account}}));const b=()=>{const e=document.querySelector("main");if(e){let l="/assets/scales.jpeg";e.style.backgroundImage=`linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.90) 100%), url(${l})`}};return{editable:e,editMode:o,levelMode:d,levelNew:p,account:s((()=>r.account)),availableValor:s((()=>r.account.valor-r.account.valorSpent)),levelModifier:s((()=>2*(r.account.level+p)+1)),levelBase:100,levelUpRequirement:s((()=>Math.round(100*(2*(r.account.level+p.value)+1)))),levelUp:u,valorSpend:v,handleEditing(e){"cancel"!=e?0==o.value?o.value=!0:(this.submitAccountChange(),o.value=!1):o.value=!1},increaseStat(e){-1==e?(this.levelUp=[0,0],this.valorSpend=0):this.valorSpend+this.levelUpRequirement<this.availableValor&&(0==e?this.levelUp[e]+=10:this.levelUp[e]++,this.valorSpend+=this.levelUpRequirement,p.value++,c.log(e,this.levelUp[0],this.levelUp[1],this.levelUpRequirement,p.value))},handleLeveling(l){"cancel"!=l?0==d.value?d.value=!0:(e.value.health=r.account.health+=this.levelUp[0],e.value.power=r.account.power+=this.levelUp[1],e.value.valorSpent=r.account.valorSpent+=this.valorSpend,e.value.level=r.account.level+this.levelNew,this.submitAccountChange(),this.levelUp=[0,0],this.valorSpend=0,this.levelNew=0,d.value=!1):(d.value=!1,this.levelNew=0)},selectPicture(l){e.value.picture=l},async submitAccountChange(){try{const l=e.value;c.log(l),await i.editAccount(l)}catch(l){n.error(l.message,"[ACCOUNT CHANGE]")}}}}},C=e=>(g("data-v-a2b7dfc0"),e=e(),f(),e),S=C((()=>u("section",{class:"row"},[u("div",{class:"col-12 fs-1 fw-bold text-center text-light"}," ACCOUNT DETAILS ")],-1))),E={class:"row"},L={class:"col-8 mx-auto p-4 custom-bg border border-light rounded"},A={key:0,class:"row fs-3 text-center"},R=C((()=>u("div",{class:"col-12"},"EDIT MODE",-1))),N=[C((()=>u("img",{src:y,alt:"player1"},null,-1)))],T=[C((()=>u("img",{src:k,alt:"player2"},null,-1)))],j=[C((()=>u("img",{src:w,alt:"player3"},null,-1)))],P=[C((()=>u("img",{src:U,alt:"player4"},null,-1)))],q={class:"col-12"},M={key:1,class:"row"},V={class:"fs-3 text-center"},I=C((()=>u("h2",{class:"mb-5 text-uppercase"}," Character details ",-1))),O={class:"player-icon"},D=["src"],B={class:"text-uppercase fw-bold fs-1"},H={class:"text-uppercase fw-bold fs-2"},_={class:"row"},G={class:"col-12 d-flex justify-content-center"},F={key:0},X={key:1},Y={key:2,class:"row mt-3"},$={class:"col-12"},z={key:0,class:"d-flex justify-content-center"},J={key:1,class:"d-flex justify-content-around"},K={class:"bg-dark px-3 pt-1 fw-semibold rounded border border-1 border-light text-info"},Q={key:3,class:"row mt-3"},W={class:"col-12 d-flex justify-content-center"},Z={class:"bg-dark p-2 border border-1 border-light rounded text-danger"},ee={class:"row mt-3"},le={class:"col-6 fs-5 text-center"},te=C((()=>u("div",{class:"fs-4 fw-bold"}," STATS ",-1))),ae={class:"mdi mdi-circle-multiple"},se={class:"mdi mdi-medal"},ce={class:"mdi mdi-heart"},re={class:"mdi mdi-weight-lifter"},ie={class:"col-6 fs-5 text-center"},ne=C((()=>u("div",{class:"fs-4 fw-bold"}," INVENTORY ",-1))),oe={class:"mdi mdi-sword-cross"},de={class:"mdi mdi-shield-sun"},ue={class:"mdi mdi-bottle-tonic-plus"},ve=C((()=>u("div",null,null,-1))),pe=e(x,[["render",function(e,l,t,a,s,c){return o(),d(m,null,[S,u("section",E,[u("div",L,[1==a.editMode?(o(),d("section",A,[R,u("div",{onClick:l[0]||(l[0]=e=>a.selectPicture(1)),class:v(["player-icon col-6",[1==a.editable.picture?"selected":""]])},N,2),u("div",{onClick:l[1]||(l[1]=e=>a.selectPicture(2)),class:v(["player-icon col-6",[2==a.editable.picture?"selected":""]])},T,2),u("div",{onClick:l[2]||(l[2]=e=>a.selectPicture(3)),class:v(["player-icon col-6",[3==a.editable.picture?"selected":""]])},j,2),u("div",{onClick:l[3]||(l[3]=e=>a.selectPicture(4)),class:v(["player-icon col-6",[4==a.editable.picture?"selected":""]])},P,2),u("div",q,[p(u("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>a.editable.name=e),class:"form-control",type:"text",name:"name",id:"name",placeholder:"Name...",minlength:"3",maxlength:"255",required:""},null,512),[[b,a.editable.name]])])])):(o(),d("section",M,[u("div",V,[I,u("div",O,[u("img",{src:a.account.picture,alt:""},null,8,D)]),u("div",B,h(a.account.name),1),u("div",H," Level: "+h(a.account.level),1)])])),u("section",_,[u("div",G,[0==a.editMode?(o(),d("div",F,[u("button",{class:"btn btn-dark text-primary border-1 border-light",onClick:l[5]||(l[5]=e=>a.handleEditing())},"EDIT")])):(o(),d("div",X,[u("button",{class:"btn btn-dark text-danger border-1 border-light",onClick:l[6]||(l[6]=e=>a.handleEditing("cancel"))},"CANCEL"),u("button",{class:"btn btn-dark text-success border-1 border-light",onClick:l[7]||(l[7]=e=>a.handleEditing())},"SUBMIT")]))])]),a.availableValor>=a.levelUpRequirement?(o(),d("section",Y,[u("div",$,[0==a.levelMode?(o(),d("div",z,[u("button",{onClick:l[8]||(l[8]=e=>a.handleLeveling()),class:"btn btn-dark text-success border-1 border-light"},"+ LEVEL UP | COST: "+h(a.levelUpRequirement),1)])):(o(),d("div",J,[u("div",{onClick:l[9]||(l[9]=e=>a.increaseStat(0)),class:"btn btn-dark text-primary border-1 border-light"},"+ "+h(a.levelUp[0])+" Health",1),u("div",{onClick:l[10]||(l[10]=e=>a.increaseStat(1)),class:"btn btn-dark text-primary border-1 border-light"},"+ "+h(a.levelUp[1])+" Power",1),u("div",K," Cost: "+h(a.levelUpRequirement),1),u("button",{onClick:l[11]||(l[11]=e=>a.handleLeveling()),class:"btn btn-dark text-success border-1 border-light"},"SUBMIT"),u("button",{onClick:l[12]||(l[12]=e=>(a.handleLeveling("cancel"),a.increaseStat(-1))),class:"btn btn-dark text-danger border-1 border-light"},"CANCEL")]))])])):(o(),d("section",Q,[u("div",W,[u("div",Z," LEVEL UP | COST: "+h(a.levelUpRequirement),1)])])),u("section",ee,[u("div",le,[te,u("div",ae," Gold: "+h(a.account.gold||0),1),u("div",se," Valor: "+h(a.account.valor||0)+" | EXP: "+h(a.availableValor-a.valorSpend),1),u("div",ce," Health: "+h(a.account.health||0),1),u("div",re," Power: "+h(a.account.power||0),1)]),u("div",ie,[ne,u("div",oe," Attack: "+h(a.account.attack),1),u("div",de," shield: "+h(a.account.shield),1),u("div",ue," heal: "+h(a.account.heal),1)])]),ve])])],64)}],["__scopeId","data-v-a2b7dfc0"]]);export{pe as default};
